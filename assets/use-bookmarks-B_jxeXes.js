import{$ as o,i as s,s as m,k as u}from"./index-CKYMUaQW.js";function n(a=1){return o.useQuery("get","/api/v1/me/bookmarks",{params:{query:{page:String(a)}}})}function p(a){return o.useQuery("get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:a}}})}function k(){const a=s();return m({mutationFn:async e=>{const{data:t,error:r}=await u().POST("/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}});if(r)throw r;return t},onMutate:async e=>{await a.cancelQueries({queryKey:["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}}]});const t=a.getQueryData(["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}}]);return a.setQueryData(["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}}],{data:{bookmarked:!0}}),{previousStatus:t,mangaId:e}},onError:(e,t,r)=>{r?.previousStatus&&a.setQueryData(["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:r.mangaId}}}],r.previousStatus)},onSettled:(e,t,r)=>{a.invalidateQueries({queryKey:["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:r}}}]}),a.invalidateQueries({queryKey:["get","/api/v1/me/bookmarks"]})}})}function g(){const a=s();return m({mutationFn:async e=>{const{data:t,error:r}=await u().DELETE("/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}});if(r)throw r;return t},onMutate:async e=>{await a.cancelQueries({queryKey:["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}}]});const t=a.getQueryData(["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}}]);return a.setQueryData(["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:e}}}],{data:{bookmarked:!1}}),{previousStatus:t,mangaId:e}},onError:(e,t,r)=>{r?.previousStatus&&a.setQueryData(["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:r.mangaId}}}],r.previousStatus)},onSettled:(e,t,r)=>{a.invalidateQueries({queryKey:["get","/api/v1/me/bookmark/{mangaId}",{params:{path:{mangaId:r}}}]}),a.invalidateQueries({queryKey:["get","/api/v1/me/bookmarks"]})}})}export{p as a,k as b,g as c,n as u};
