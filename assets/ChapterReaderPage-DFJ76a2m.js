import{c as D,d as _e,p as ke,r as f,x as je,j as r,y as ue,R as B,X,q as Ne,e as Ee,m as k,L as $}from"./index-CKYMUaQW.js";import{b as Te,a as Ie}from"./use-manga-D8A3qemm.js";import{a as Se}from"./use-reading-progress-DdmkojgF.js";import{u as Ce}from"./use-navigation-DOs1thp5.js";import{d as Pe,c as I}from"./utils-BDo7o5Y5.js";import{L as Ae}from"./loader-circle-CIsMr-Yr.js";import{A as de}from"./arrow-left-CQkoRQDD.js";import{S as fe}from"./settings-B8ARuyRh.js";import{C as G}from"./chevron-left-DW5O0sIL.js";import{C as J}from"./chevron-right-DEL8-u9D.js";const De=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Le=D("circle-alert",De);const Oe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],Q=D("columns-2",Oe);const Me=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],Re=D("image-off",Me);const ze=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ue=D("rotate-ccw",ze);const Ve=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],Z=D("text-align-justify",Ve);function Ke(s){switch(s.type){case"selfhosted":return{type:"selfhosted",template:s.data.url,from:s.data.from,to:s.data.to};case"hotlink":return{type:"hotlink",urls:s.data};case"external":return{type:"external",paths:s.data}}}function Be(s,e){switch(s.type){case"selfhosted":{const t=[],i=e??"";for(let n=s.from;n<=s.to;n++){const o=s.template.replace("{page}",n.toString());t.push(i+o)}return t}case"hotlink":return s.urls;case"external":return s.paths.map(t=>e?`${e}${t}`:t);default:return[]}}function $e(s,e){return s.flatMap(t=>Be(Ke(t),e))}const A=_e()(ke((s,e)=>({mode:"vertical",setMode:t=>s({mode:t}),currentPage:0,setCurrentPage:t=>s({currentPage:t}),isSettingsOpen:!1,setSettingsOpen:t=>s({isSettingsOpen:t}),toggleSettingsOpen:()=>s(t=>({isSettingsOpen:!t.isSettingsOpen})),isUIVisible:!0,setUIVisible:t=>s({isUIVisible:t}),_hideUITimeoutId:null,_clearHideTimeout:()=>{const{_hideUITimeoutId:t}=e();t&&(clearTimeout(t),s({_hideUITimeoutId:null}))},_scheduleHide:()=>{e()._clearHideTimeout();const t=setTimeout(()=>{s({isUIVisible:!1,_hideUITimeoutId:null})},3e3);s({_hideUITimeoutId:t})},toggleUIVisible:()=>{const{isUIVisible:t,_clearHideTimeout:i,_scheduleHide:n}=e(),o=!t;s({isUIVisible:o}),i(),o&&n()},showUITemporarily:()=>{s({isUIVisible:!0}),e()._scheduleHide()}}),{name:"manga-reader",partialize:s=>({mode:s.mode})}));function He(){const s=f.useRef(null),e=je();f.useEffect(()=>{if(!e||!("wakeLock"in navigator))return;let t=!1;return(async()=>{try{const n=await navigator.wakeLock.request("screen");t?n.release():s.current=n}catch{}})(),()=>{t=!0,s.current?.release(),s.current=null}},[e])}const H=3,Ye=[1e3,2e3,4e3];function We(s){return new Promise((e,t)=>{const i=new Image;i.onload=()=>e(),i.onerror=()=>t(new Error(`Failed to load: ${s}`)),i.src=s})}async function W(s){let e=null;for(let t=0;t<H;t++)try{return await We(s),s}catch(i){e=i instanceof Error?i:new Error("Unknown error"),t<H-1&&await Pe(Ye[t])}throw e??new Error(`Failed to load image after ${H} retries: ${s}`)}function he({src:s,alt:e,className:t,onLoad:i,onError:n,priority:o=!1}){const[c,a]=f.useState("idle"),d=f.useRef(null),u=f.useCallback(async()=>{try{a("loading"),await W(s),a("success"),i?.()}catch(l){a("error"),n?.(l instanceof Error?l:new Error("Unknown error"))}},[s,i,n]);return f.useEffect(()=>{if(o){u();return}const l=d.current;if(!l)return;const m=new IntersectionObserver(p=>{p[0].isIntersecting&&(u(),m.disconnect())},{rootMargin:"50% 0px"});return m.observe(l),()=>m.disconnect()},[o,u]),c==="error"?r.jsxs("div",{ref:d,className:I("flex flex-col items-center justify-center p-8 bg-zinc-900/50 text-zinc-500 w-full aspect-[2/3] rounded-sm",t),children:[r.jsx(Re,{className:"w-10 h-10 mb-3 opacity-50"}),r.jsx("p",{className:"text-xs mb-4 text-center",children:"Failed to load"}),r.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 rounded text-xs font-medium transition-colors cursor-pointer",children:[r.jsx(Ue,{className:"w-3 h-3"}),"Retry"]})]}):c==="idle"||c==="loading"?r.jsx("div",{ref:d,className:I("flex items-center justify-center bg-zinc-900 w-full aspect-[2/3]",t),children:c==="loading"&&r.jsx(Ae,{className:"w-8 h-8 text-zinc-700 animate-spin"})}):r.jsx("div",{ref:d,className:I("relative",t),children:r.jsx("img",{src:s,alt:e,className:"w-full h-auto block select-none",loading:"lazy",draggable:!1})})}const Fe=50;function qe({images:s}){const e=A(c=>c.toggleUIVisible),t=A(c=>c.setUIVisible),i=f.useRef(0),n=ue(),o=f.useMemo(()=>{if(typeof document>"u")return 0;const c=document.documentElement.scrollHeight-window.innerHeight;return c>0?Math.min(n/c*100,100):0},[n]);return f.useEffect(()=>{const c=n-i.current;Math.abs(c)>Fe&&(t(c<0),i.current=n)},[n,t]),r.jsxs("div",{className:"relative flex flex-col w-full max-w-3xl mx-auto bg-black min-h-screen",style:{overscrollBehavior:"none"},children:[r.jsx("div",{className:"fixed top-0 left-0 h-0.5 bg-white/50 z-50 transition-[width] duration-150",style:{width:`${o}%`}}),s.map((c,a)=>r.jsx("div",{style:{contentVisibility:"auto",containIntrinsicSize:"0 600px"},children:r.jsx(he,{src:c,alt:`Page ${a+1}`,priority:a<3,className:"w-full"})},c)),r.jsx("button",{type:"button",className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-1/3 h-1/3 z-35 cursor-default",onClick:e,"aria-label":"Toggle UI",style:{background:"transparent"}})]})}function Xe(s,e,t){return Math.max(e,Math.min(s,t))}const x={toVector(s,e){return s===void 0&&(s=e),Array.isArray(s)?s:[s,s]},add(s,e){return[s[0]+e[0],s[1]+e[1]]},sub(s,e){return[s[0]-e[0],s[1]-e[1]]},addTo(s,e){s[0]+=e[0],s[1]+=e[1]},subTo(s,e){s[0]-=e[0],s[1]-=e[1]}};function ee(s,e,t){return e===0||Math.abs(e)===1/0?Math.pow(s,t*5):s*e*t/(e+t*s)}function te(s,e,t,i=.15){return i===0?Xe(s,e,t):s<e?-ee(e-s,t-e,i)+e:s>t?+ee(s-t,t-e,i)+t:s}function Ge(s,[e,t],[i,n]){const[[o,c],[a,d]]=s;return[te(e,o,c,i),te(t,a,d,n)]}function Je(s,e){if(typeof s!="object"||s===null)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function Qe(s){var e=Je(s,"string");return typeof e=="symbol"?e:String(e)}function v(s,e,t){return e=Qe(e),e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function se(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,i)}return t}function h(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?se(Object(t),!0).forEach(function(i){v(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}const pe={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ie(s){return s?s[0].toUpperCase()+s.slice(1):""}const Ze=["enter","leave"];function et(s=!1,e){return s&&!Ze.includes(e)}function tt(s,e="",t=!1){const i=pe[s],n=i&&i[e]||e;return"on"+ie(s)+ie(n)+(et(t,n)?"Capture":"")}const st=["gotpointercapture","lostpointercapture"];function it(s){let e=s.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=st.includes(e)?"capturecapture":"capture",n=!!~e.indexOf(i);return n&&(e=e.replace("capture","")),{device:e,capture:n,passive:t}}function nt(s,e=""){const t=pe[s],i=t&&t[e]||e;return s+i}function V(s){return"touches"in s}function me(s){return V(s)?"touch":"pointerType"in s?s.pointerType:"mouse"}function rt(s){return Array.from(s.touches).filter(e=>{var t,i;return e.target===s.currentTarget||((t=s.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function ot(s){return s.type==="touchend"||s.type==="touchcancel"?s.changedTouches:s.targetTouches}function ge(s){return V(s)?ot(s)[0]:s}function at(s){return rt(s).map(e=>e.identifier)}function Y(s){const e=ge(s);return V(s)?e.identifier:e.pointerId}function ne(s){const e=ge(s);return[e.clientX,e.clientY]}function ct(s){const e={};if("buttons"in s&&(e.buttons=s.buttons),"shiftKey"in s){const{shiftKey:t,altKey:i,metaKey:n,ctrlKey:o}=s;Object.assign(e,{shiftKey:t,altKey:i,metaKey:n,ctrlKey:o})}return e}function U(s,...e){return typeof s=="function"?s(...e):s}function lt(){}function ut(...s){return s.length===0?lt:s.length===1?s[0]:function(){let e;for(const t of s)e=t.apply(this,arguments)||e;return e}}function re(s,e){return Object.assign({},e,s||{})}const dt=32;class ft{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:n}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?U(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:n}=this;t.args=this.args;let o=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,ct(e)),n.down=n.pressed=n.buttons%2===1||n.touches>0,o=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const _=t._delta.map(Math.abs);x.addTo(t._distance,_)}this.axisIntent&&this.axisIntent(e);const[c,a]=t._movement,[d,u]=i.threshold,{_step:l,values:m}=t;if(i.hasCustomTransform?(l[0]===!1&&(l[0]=Math.abs(c)>=d&&m[0]),l[1]===!1&&(l[1]=Math.abs(a)>=u&&m[1])):(l[0]===!1&&(l[0]=Math.abs(c)>=d&&Math.sign(c)*d),l[1]===!1&&(l[1]=Math.abs(a)>=u&&Math.sign(a)*u)),t.intentional=l[0]!==!1||l[1]!==!1,!t.intentional)return;const p=[0,0];if(i.hasCustomTransform){const[_,R]=m;p[0]=l[0]!==!1?_-l[0]:0,p[1]=l[1]!==!1?R-l[1]:0}else p[0]=l[0]!==!1?c-l[0]:0,p[1]=l[1]!==!1?a-l[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const j=t.offset,E=t._active&&!t._blocked||t.active;E&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=n[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=U(i.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[b,w]=t.offset,[[N,C],[M,T]]=t._bounds;t.overflow=[b<N?-1:b>C?1:0,w<M?-1:w>T?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const K=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=Ge(t._bounds,t.offset,K),t.delta=x.sub(t.offset,j),this.computeMovement(),E&&(!t.last||o>dt)){t.delta=x.sub(t.offset,j);const _=t.delta.map(Math.abs);x.addTo(t.distance,_),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&o>0&&(t.velocity=[_[0]/o,_[1]/o],t.timeDelta=o)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const n=this.handler(h(h(h({},t),e),{},{[this.aliasKey]:e.values}));n!==void 0&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function ht([s,e],t){const i=Math.abs(s),n=Math.abs(e);if(i>n&&i>t)return"x";if(n>i&&n>t)return"y"}class pt extends ft{constructor(...e){super(...e),v(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=x.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=x.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const n=typeof i.axisThreshold=="object"?i.axisThreshold[me(e)]:i.axisThreshold;t.axis=ht(t._movement,n)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const mt=s=>s,oe=.15,xe={enabled(s=!0){return s},eventOptions(s,e,t){return h(h({},t.shared.eventOptions),s)},preventDefault(s=!1){return s},triggerAllEvents(s=!1){return s},rubberband(s=0){switch(s){case!0:return[oe,oe];case!1:return[0,0];default:return x.toVector(s)}},from(s){if(typeof s=="function")return s;if(s!=null)return x.toVector(s)},transform(s,e,t){const i=s||t.shared.transform;return this.hasCustomTransform=!!i,i||mt},threshold(s){return x.toVector(s,0)}},gt=0,L=h(h({},xe),{},{axis(s,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(s=gt){return s},bounds(s={}){if(typeof s=="function")return o=>L.bounds(s(o));if("current"in s)return()=>s.current;if(typeof HTMLElement=="function"&&s instanceof HTMLElement)return s;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:n=1/0}=s;return[[e,t],[i,n]]}}),ae={ArrowRight:(s,e=1)=>[s*e,0],ArrowLeft:(s,e=1)=>[-1*s*e,0],ArrowUp:(s,e=1)=>[0,-1*s*e],ArrowDown:(s,e=1)=>[0,s*e]};class xt extends pt{constructor(...e){super(...e),v(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),n={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=L.bounds(n)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const n=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(n&&n.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=Y(e),i._pointerActive=!0,this.computeValues(ne(e)),this.computeInitial(),t.preventScrollAxis&&me(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const n=Y(e);if(t._pointerId!==void 0&&n!==t._pointerId)return;const o=ne(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=x.sub(o,t._values),this.computeValues(o)),x.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const n=Y(e);if(t._pointerId!==void 0&&n!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[o,c]=t._distance;if(t.tap=o<=i.tapsThreshold&&c<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[a,d]=t._delta,[u,l]=t._movement,[m,p]=i.swipe.velocity,[j,E]=i.swipe.distance,b=i.swipe.duration;if(t.elapsedTime<b){const w=Math.abs(a/t.timeDelta),N=Math.abs(d/t.timeDelta);w>m&&Math.abs(u)>j&&(t.swipe[0]=Math.sign(a)),N>p&&Math.abs(l)>E&&(t.swipe[1]=Math.sign(d))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,bt(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=ae[e.key];if(t){const i=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,n),i._keyboardActive=!0,x.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in ae&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function bt(s){"persist"in s&&typeof s.persist=="function"&&s.persist()}const O=typeof window<"u"&&window.document&&window.document.createElement;function be(){return O&&"ontouchstart"in window}function vt(){return be()||O&&window.navigator.maxTouchPoints>1}function yt(){return O&&"onpointerdown"in window}function wt(){return O&&"exitPointerLock"in window.document}function _t(){try{return"constructor"in GestureEvent}catch{return!1}}const y={isBrowser:O,gesture:_t(),touch:be(),touchscreen:vt(),pointer:yt(),pointerLock:wt()},kt=250,jt=180,Nt=.5,Et=50,Tt=250,It=10,ce={mouse:0,touch:0,pen:8},St=h(h({},L),{},{device(s,e,{pointer:{touch:t=!1,lock:i=!1,mouse:n=!1}={}}){return this.pointerLock=i&&y.pointerLock,y.touch&&t?"touch":this.pointerLock?"mouse":y.pointer&&!n?"pointer":y.touch?"touch":"mouse"},preventScrollAxis(s,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&s?kt:void 0,!(!y.touchscreen||t===!1))return s||(t!==void 0?"y":void 0)},pointerCapture(s,e,{pointer:{capture:t=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&this.device==="pointer"&&t},threshold(s,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:n=void 0}){const o=x.toVector(s,t?i:n?1:0);return this.filterTaps=t,this.tapsThreshold=i,o},swipe({velocity:s=Nt,distance:e=Et,duration:t=Tt}={}){return{velocity:this.transform(x.toVector(s)),distance:this.transform(x.toVector(e)),duration:t}},delay(s=0){switch(s){case!0:return jt;case!1:return 0;default:return s}},axisThreshold(s){return s?h(h({},ce),s):ce},keyboardDisplacement(s=It){return s}});h(h({},xe),{},{device(s,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!y.touch&&y.gesture)return"gesture";if(y.touch&&i)return"touch";if(y.touchscreen){if(y.pointer)return"pointer";if(y.touch)return"touch"}},bounds(s,e,{scaleBounds:t={},angleBounds:i={}}){const n=c=>{const a=re(U(t,c),{min:-1/0,max:1/0});return[a.min,a.max]},o=c=>{const a=re(U(i,c),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof i!="function"?[n(),o()]:c=>[n(c),o(c)]},threshold(s,e,t){return this.lockDirection=t.axis==="lock",x.toVector(s,this.lockDirection?[.1,3]:0)},modifierKey(s){return s===void 0?"ctrlKey":s},pinchOnWheel(s=!0){return s}});h(h({},L),{},{mouseOnly:(s=!0)=>s});h(h({},L),{},{mouseOnly:(s=!0)=>s});const ve=new Map,F=new Map;function Ct(s){ve.set(s.key,s.engine),F.set(s.key,s.resolver)}const Pt={key:"drag",engine:xt,resolver:St};function At(s,e){if(s==null)return{};var t={},i=Object.keys(s),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=s[n]);return t}function Dt(s,e){if(s==null)return{};var t=At(s,e),i,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(n=0;n<o.length;n++)i=o[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(t[i]=s[i])}return t}const Lt={target(s){if(s)return()=>"current"in s?s.current:s},enabled(s=!0){return s},window(s=y.isBrowser?window:void 0){return s},eventOptions({passive:s=!0,capture:e=!1}={}){return{passive:s,capture:e}},transform(s){return s}},Ot=["target","eventOptions","window","enabled","transform"];function z(s={},e){const t={};for(const[i,n]of Object.entries(e))switch(typeof n){case"function":t[i]=n.call(t,s[i],i,s);break;case"object":t[i]=z(s[i],n);break;case"boolean":n&&(t[i]=s[i]);break}return t}function Mt(s,e,t={}){const i=s,{target:n,eventOptions:o,window:c,enabled:a,transform:d}=i,u=Dt(i,Ot);if(t.shared=z({target:n,eventOptions:o,window:c,enabled:a,transform:d},Lt),e){const l=F.get(e);t[e]=z(h({shared:t.shared},u),l)}else for(const l in u){const m=F.get(l);m&&(t[l]=z(h({shared:t.shared},u[l]),m))}return t}class ye{constructor(e,t){v(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,n,o){const c=this._listeners,a=nt(t,i),d=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=h(h({},d),o);e.addEventListener(a,n,u);const l=()=>{e.removeEventListener(a,n,u),c.delete(l)};return c.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Rt{constructor(){v(this,"_timeouts",new Map)}add(e,t,i=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...n))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}class zt{constructor(e){v(this,"gestures",new Set),v(this,"_targetEventStore",new ye(this)),v(this,"gestureEventStores",{}),v(this,"gestureTimeoutStores",{}),v(this,"handlers",{}),v(this,"config",{}),v(this,"pointerIds",new Set),v(this,"touchIds",new Set),v(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Ut(this,e)}setEventIds(e){if(V(e))return this.touchIds=new Set(at(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Mt(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let n;if(!(t.target&&(n=t.target(),!n))){if(t.enabled){for(const c of this.gestures){const a=this.config[c],d=le(i,a.eventOptions,!!n);if(a.enabled){const u=ve.get(c);new u(this,e,c).bind(d)}}const o=le(i,t.eventOptions,!!n);for(const c in this.nativeHandlers)o(c,"",a=>this.nativeHandlers[c](h(h({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const o in i)i[o]=ut(...i[o]);if(!n)return i;for(const o in i){const{device:c,capture:a,passive:d}=it(o);this._targetEventStore.add(n,c,"",i[o],{capture:a,passive:d})}}}}function S(s,e){s.gestures.add(e),s.gestureEventStores[e]=new ye(s,e),s.gestureTimeoutStores[e]=new Rt}function Ut(s,e){e.drag&&S(s,"drag"),e.wheel&&S(s,"wheel"),e.scroll&&S(s,"scroll"),e.move&&S(s,"move"),e.pinch&&S(s,"pinch"),e.hover&&S(s,"hover")}const le=(s,e,t)=>(i,n,o,c={},a=!1)=>{var d,u;const l=(d=c.capture)!==null&&d!==void 0?d:e.capture,m=(u=c.passive)!==null&&u!==void 0?u:e.passive;let p=a?i:tt(i,n,l);t&&m&&(p+="Passive"),s[p]=s[p]||[],s[p].push(o)};function Vt(s,e={},t,i){const n=B.useMemo(()=>new zt(s),[]);if(n.applyHandlers(s,i),n.applyConfig(e,t),B.useEffect(n.effect.bind(n)),B.useEffect(()=>n.clean.bind(n),[]),e.target===void 0)return n.bind.bind(n)}function Kt(s,e){return Ct(Pt),Vt({drag:s},e||{},"drag")}function Bt(s){const e=f.useCallback(t=>{switch(t.key){case"ArrowLeft":s.onLeft?.();break;case"ArrowRight":s.onRight?.();break;case"ArrowUp":s.onUp?.();break;case"ArrowDown":s.onDown?.();break;case"Escape":s.onEscape?.();break;case" ":s.onSpace?.();break}},[s]);f.useEffect(()=>(window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)),[e])}function $t(s,e,t,i){const{wrap:n=!1}={},o=f.useCallback(()=>{s>0?t(s-1):n&&t(e-1)},[s,e,t,n]),c=f.useCallback(()=>{s<e-1?t(s+1):n&&t(0)},[s,e,t,n]);return Bt({onLeft:o,onRight:c}),{goToPrev:o,goToNext:c}}function Ht({images:s,currentPage:e,onPageChange:t}){const i=s.length,n=A(u=>u.toggleUIVisible),o=f.useCallback(u=>{u>=0&&u<i&&t(u)},[i,t]),{goToPrev:c,goToNext:a}=$t(e,i,t),d=Kt(({swipe:[u],tap:l})=>{if(l){n();return}u===-1?a():u===1&&c()},{axis:"x",filterTaps:!0,swipe:{distance:50,velocity:.3,duration:300}});return f.useEffect(()=>{for(let l=1;l<=3;l++){const m=s[e+l],p=s[e-l];m&&W(m).catch(()=>{}),p&&W(p).catch(()=>{})}},[e,s]),r.jsxs("div",{...d(),className:"relative w-full h-full flex items-center justify-center bg-black overflow-hidden outline-none select-none overscroll-none touch-pan-y",children:[r.jsx("button",{type:"button",className:"absolute inset-y-0 left-0 w-1/5 z-10 cursor-pointer hover:bg-white/5 transition-colors focus:outline-none",onClick:()=>o(e-1),"aria-label":"Previous Page"}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 w-1/5 z-10 cursor-pointer hover:bg-white/5 transition-colors focus:outline-none",onClick:()=>o(e+1),"aria-label":"Next Page"}),r.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:s[e]&&r.jsx(he,{src:s[e],alt:`Page ${e+1}`,priority:!0,className:"max-h-full w-auto object-contain mx-auto rounded-sm"},s[e])}),r.jsxs("div",{className:"absolute bottom-safe-offset-6 left-1/2 -translate-x-1/2 bg-black/85 backdrop-blur-[2px] px-4 py-1.5 rounded-full text-xs font-medium text-zinc-200 border border-white/15 pointer-events-none",children:[e+1," / ",i]})]})}function Yt(){const{mode:s,setMode:e,isSettingsOpen:t,setSettingsOpen:i}=A();return f.useEffect(()=>{if(!t)return;const n=o=>{o.key==="Escape"&&i(!1)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,i]),t?r.jsxs("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50 md:bg-transparent animate-in fade-in duration-200",onClick:()=>i(!1),"aria-hidden":"true"}),r.jsxs("div",{className:"md:hidden absolute bottom-0 left-0 right-0 bg-black/85 backdrop-blur-[2px] rounded-t-2xl animate-in slide-in-from-bottom duration-300 pb-safe",children:[r.jsx("div",{className:"flex justify-center pt-3 pb-2",children:r.jsx("div",{className:"w-10 h-1 rounded-full bg-white/20"})}),r.jsxs("div",{className:"px-5 pb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-sm font-medium text-zinc-400",children:"Reading Mode"}),r.jsx("button",{type:"button",onClick:()=>i(!1),className:"p-2.5 -mr-2 text-zinc-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:r.jsx(X,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"bg-white/10 p-1 rounded-xl flex gap-1",children:[r.jsxs("button",{type:"button",onClick:()=>e("vertical"),className:I("flex-1 flex flex-col items-center justify-center gap-2 py-4 rounded-lg transition-all duration-200",s==="vertical"?"bg-white text-black":"text-zinc-400 hover:text-white"),children:[r.jsx(Z,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Vertical"})]}),r.jsxs("button",{type:"button",onClick:()=>e("horizontal"),className:I("flex-1 flex flex-col items-center justify-center gap-2 py-4 rounded-lg transition-all duration-200",s==="horizontal"?"bg-white text-black":"text-zinc-400 hover:text-white"),children:[r.jsx(Q,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-medium",children:"Paged"})]})]})]})]}),r.jsx("div",{className:"hidden md:block absolute top-16 right-4 bg-zinc-900/95 rounded-xl shadow-[0_8px_32px_rgba(0,0,0,0.5)] ring-1 ring-white/5 animate-in fade-in slide-in-from-top-2 duration-200",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between gap-8 mb-3",children:[r.jsx("h2",{className:"text-sm font-medium text-zinc-400",children:"Reading Mode"}),r.jsx("button",{type:"button",onClick:()=>i(!1),className:"p-1.5 -mr-1 text-zinc-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:r.jsx(X,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"bg-white/10 p-1 rounded-lg flex gap-1",children:[r.jsxs("button",{type:"button",onClick:()=>e("vertical"),className:I("flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200",s==="vertical"?"bg-white text-black":"text-zinc-400 hover:text-white"),children:[r.jsx(Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Vertical"})]}),r.jsxs("button",{type:"button",onClick:()=>e("horizontal"),className:I("flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200",s==="horizontal"?"bg-white text-black":"text-zinc-400 hover:text-white"),children:[r.jsx(Q,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Paged"})]})]})]})})]}):null}function Wt(){return r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 bg-gradient-to-b from-black/90 to-transparent backdrop-blur-[2px] h-14",children:r.jsxs("div",{className:"container mx-auto px-4 h-full flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-2",children:r.jsx(de,{className:"w-5 h-5 text-zinc-600"})}),r.jsxs("div",{className:"flex flex-col gap-1.5",children:[r.jsx("div",{className:"h-4 w-32 bg-zinc-800 rounded animate-pulse"}),r.jsx("div",{className:"h-3 w-24 bg-zinc-800/70 rounded animate-pulse"})]})]}),r.jsx("div",{className:"p-2",children:r.jsx(fe,{className:"w-5 h-5 text-zinc-600"})})]})}),r.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:r.jsx("div",{className:"flex flex-col items-center gap-2",children:[1,2,3].map(s=>r.jsx("div",{className:"w-full max-w-3xl aspect-[2/3] bg-zinc-900 animate-pulse",style:{animationDelay:`${s*100}ms`}},s))})}),r.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-40 bg-gradient-to-t from-black/90 to-transparent backdrop-blur-[2px]",children:r.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[r.jsx("div",{className:"h-9 w-20 bg-zinc-800/50 rounded-lg animate-pulse"}),r.jsx("div",{className:"h-9 w-20 bg-zinc-800/50 rounded-lg animate-pulse"})]})})]})}function Ft(s){const e=ue();return f.useMemo(()=>{if(typeof document>"u"||s===0)return{scrollPosition:0,estimatedPage:0};const t=document.documentElement.scrollHeight-window.innerHeight,i=t>0?e/t:0;return{scrollPosition:e,estimatedPage:Math.floor(i*s)}},[e,s])}function rs(){const{id:s}=Ne(),{goBack:e}=Ce(),{config:t}=Ee(),i=f.useRef(!1);He();const{data:n,isLoading:o,error:c}=Te(s),a=n?.data,{data:d}=Ie(a?.mangaId?.toString()??"","desc"),u=d?.data,{mode:l,toggleSettingsOpen:m,currentPage:p,setCurrentPage:j,isUIVisible:E}=A(),b=f.useMemo(()=>{if(!a)return[];const g=a.storageUrl||t.storageUrl;return $e(a.content,g)},[a,t.storageUrl]),{currentProgress:w,saveProgress:N,saveImmediately:C,isLoaded:M}=Se({mangaId:a?.mangaId?.toString()??"",mangaTitle:a?.manga?.title??"",mangaCover:a?.manga?.image??void 0,chapterId:s??"",chapterTitle:a?.title??`Chapter ${s}`,totalPages:b.length}),T=Ft(b.length);f.useEffect(()=>{s&&(i.current=!1)},[s]),f.useEffect(()=>{M&&w&&!i.current&&b.length>0&&(i.current=!0,l==="horizontal"&&w.currentPage>0?j(Math.min(w.currentPage,b.length-1)):l==="vertical"&&w.scrollPosition&&window.scrollTo(0,w.scrollPosition))},[M,w,l,b.length,j]);const K=f.useCallback(g=>{j(g),N(g)},[j,N]),_=f.useRef({page:-1,scroll:-1});f.useEffect(()=>{if(l!=="vertical"||b.length===0)return;const{estimatedPage:g,scrollPosition:P}=T;(_.current.page!==g||Math.abs(_.current.scroll-P)>100)&&(_.current={page:g,scroll:P},N(g,P))},[l,b.length,T,N]),f.useEffect(()=>{const g=()=>{l==="horizontal"?C(p):C(T.estimatedPage,T.scrollPosition)};return window.addEventListener("beforeunload",g),()=>window.removeEventListener("beforeunload",g)},[l,p,T,C]);const{prevChapterId:R,nextChapterId:q}=f.useMemo(()=>{if(!u||!a)return{prevChapterId:void 0,nextChapterId:void 0};const g=u.findIndex(we=>we.id===a.id);if(g===-1)return{prevChapterId:void 0,nextChapterId:void 0};const P=g>0?u[g-1].id:void 0;return{prevChapterId:g<u.length-1?u[g+1].id:void 0,nextChapterId:P}},[u,a]);return o?r.jsx(Wt,{}):c||!a?r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center text-zinc-500",children:r.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-4",children:[r.jsx(Le,{className:"w-10 h-10 text-red-500"}),r.jsx("p",{className:"text-lg font-medium text-white",children:k.reader.cannotLoad}),r.jsx("p",{className:"text-sm max-w-md",children:c?.message||k.errors.unknownError}),r.jsx($,{to:"/",className:"text-sm text-blue-400 hover:underline mt-2",children:k.manga.backToHome})]})}):r.jsxs(r.Fragment,{children:[a.manga?.title&&a.title&&r.jsx("title",{children:k.titles.chapter(a.manga.title,a.title)}),r.jsxs("div",{className:"min-h-screen bg-black text-white overscroll-none",children:[r.jsx("header",{className:`fixed top-0 left-0 right-0 z-40 bg-gradient-to-b from-black from-0% via-black/70 via-35% to-transparent to-100% pt-safe h-safe-offset-14 transition-transform duration-300 ${E?"translate-y-0":"-translate-y-full"}`,children:r.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{type:"button",onClick:()=>e(a.mangaId?`/manga/${a.mangaId}`:"/"),className:"p-2 hover:bg-white/10 rounded-full transition-colors","aria-label":k.common.back,children:r.jsx(de,{className:"w-5 h-5"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium truncate max-w-[200px] [text-shadow:0_1px_3px_rgb(0_0_0/80%),0_0_8px_rgb(0_0_0/50%)]",children:a.title||`Chapter ${a.id}`}),r.jsx("span",{className:"text-xs text-zinc-300 truncate max-w-[200px] [text-shadow:0_1px_3px_rgb(0_0_0/80%),0_0_8px_rgb(0_0_0/50%)]",children:a.manga?.title})]})]}),r.jsx("button",{type:"button",onClick:m,className:"p-2 hover:bg-white/10 rounded-full transition-colors","aria-label":k.reader.settings,children:r.jsx(fe,{className:"w-5 h-5"})})]})}),r.jsx("main",{className:"pt-0 pb-0 min-h-screen",children:b.length>0?l==="vertical"?r.jsx("div",{className:"pt-safe-offset-14 pb-safe-offset-20",children:r.jsx(qe,{images:b})}):r.jsx("div",{className:"pt-safe-offset-14 pb-safe-offset-16 h-screen",children:r.jsx(Ht,{images:b,currentPage:p,onPageChange:K})}):r.jsx("div",{className:"flex items-center justify-center min-h-[50vh] text-zinc-400",children:k.reader.noImages})}),r.jsx("footer",{className:`fixed bottom-0 left-0 right-0 z-40 bg-gradient-to-t from-black from-0% via-black/70 via-35% to-transparent to-100% pb-safe h-safe-offset-16 transition-transform duration-300 ${E?"translate-y-0":"translate-y-full"}`,children:r.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[R?r.jsxs($,{to:`/chapter/${R}`,replace:!0,prefetch:"intent",className:"flex items-center gap-2 px-4 py-2 hover:bg-white/10 rounded-lg transition-colors",children:[r.jsx(G,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:k.reader.prev})]}):r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 opacity-30 cursor-not-allowed",children:[r.jsx(G,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:k.reader.prev})]}),q?r.jsxs($,{to:`/chapter/${q}`,replace:!0,prefetch:"intent",className:"flex items-center gap-2 px-4 py-2 hover:bg-white/10 rounded-lg transition-colors",children:[r.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:k.reader.next}),r.jsx(J,{className:"w-5 h-5"})]}):r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 opacity-30 cursor-not-allowed",children:[r.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:k.reader.next}),r.jsx(J,{className:"w-5 h-5"})]})]})}),r.jsx(Yt,{})]})]})}export{rs as default};
