import{c as D,j as n,q,r as A,m as c,L as k}from"./index-CKYMUaQW.js";import{u as Q,a as Y}from"./use-manga-D8A3qemm.js";import{u as E}from"./use-navigation-DOs1thp5.js";import{a as R,b as J,c as U}from"./use-bookmarks-B_jxeXes.js";import{G}from"./GenreBadge-Dg3D-IgT.js";import{c as W}from"./utils-BDo7o5Y5.js";import{A as K}from"./arrow-left-CQkoRQDD.js";import{B}from"./bookmark-hM7DXn_N.js";import{C as Z}from"./clock-DIK97DkU.js";import{C as ee}from"./chevron-right-DEL8-u9D.js";const te=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ne=D("arrow-up-down",te);const ae=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],re=D("book-open",ae);const se=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ie=D("eye",se);const oe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],de=D("list",oe),I={ongoing:{label:"Đang tiến hành",className:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400"},completed:{label:"Hoàn thành",className:"bg-sky-500/10 text-sky-600 dark:text-sky-400"},cancelled:{label:"Đã hủy",className:"bg-red-500/10 text-red-600 dark:text-red-400"}};function ce({status:e,className:a}){const t=I[e]||I.ongoing;return n.jsx("span",{className:W("inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium",t.className,a),children:t.label})}const T=43200,H=1440,V=Symbol.for("constructDateFrom");function S(e,a){return typeof e=="function"?e(a):e&&typeof e=="object"&&V in e?e[V](a):e instanceof Date?new e.constructor(a):new Date(a)}function M(e,a){return S(e,e)}let me={};function ue(){return me}function X(e){const a=M(e),t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),+e-+t}function $(e,...a){const t=S.bind(null,e||a.find(r=>typeof r=="object"));return a.map(t)}function P(e,a){const t=+M(e)-+M(a);return t<0?-1:t>0?1:t}function le(e){return S(e,Date.now())}function he(e,a,t){const[r,s]=$(t?.in,e,a),d=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return d*12+o}function fe(e){return a=>{const r=(e?Math[e]:Math.trunc)(a);return r===0?0:r}}function ge(e,a){return+M(e)-+M(a)}function pe(e,a){const t=M(e);return t.setHours(23,59,59,999),t}function xe(e,a){const t=M(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function be(e,a){const t=M(e);return+pe(t)==+xe(t)}function ye(e,a,t){const[r,s,d]=$(t?.in,e,e,a),o=P(s,d),i=Math.abs(he(s,d));if(i<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*i);let f=P(s,d)===-o;be(r)&&i===1&&P(r,d)===1&&(f=!1);const l=o*(i-+f);return l===0?0:l}function ve(e,a,t){const r=ge(e,a)/1e3;return fe(t?.roundingMethod)(r)}const we={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Me=(e,a,t)=>{let r;const s=we[e];return typeof s=="string"?r=s:a===1?r=s.one:r=s.other.replace("{{count}}",a.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function j(e){return(a={})=>{const t=a.width?String(a.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const Ne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},je={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Te={date:j({formats:Ne,defaultWidth:"full"}),time:j({formats:je,defaultWidth:"full"}),dateTime:j({formats:ke,defaultWidth:"full"})},Pe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},De=(e,a,t,r)=>Pe[e];function x(e){return(a,t)=>{const r=t?.context?String(t.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,i=t?.width?String(t.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{const o=e.defaultWidth,i=t?.width?String(t.width):e.defaultWidth;s=e.values[i]||e.values[o]}const d=e.argumentCallback?e.argumentCallback(a):a;return s[d]}}const Ce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},We={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Se={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ae=(e,a)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Be={ordinalNumber:Ae,era:x({values:Ce,defaultWidth:"wide"}),quarter:x({values:We,defaultWidth:"wide",argumentCallback:e=>e-1}),month:x({values:Se,defaultWidth:"wide"}),day:x({values:$e,defaultWidth:"wide"}),dayPeriod:x({values:_e,defaultWidth:"wide",formattingValues:Fe,defaultFormattingWidth:"wide"})};function b(e){return(a,t={})=>{const r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],d=a.match(s);if(!d)return null;const o=d[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(i)?He(i,N=>N.test(o)):Ie(i,N=>N.test(o));let l;l=e.valueCallback?e.valueCallback(f):f,l=t.valueCallback?t.valueCallback(l):l;const g=a.slice(o.length);return{value:l,rest:g}}}function Ie(e,a){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&a(e[t]))return t}function He(e,a){for(let t=0;t<e.length;t++)if(a(e[t]))return t}function z(e){return(a,t={})=>{const r=a.match(e.matchPattern);if(!r)return null;const s=r[0],d=a.match(e.parsePattern);if(!d)return null;let o=e.valueCallback?e.valueCallback(d[0]):d[0];o=t.valueCallback?t.valueCallback(o):o;const i=a.slice(s.length);return{value:o,rest:i}}}const Ve=/^(\d+)(th|st|nd|rd)?/i,Xe=/\d+/i,ze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Oe={any:[/^b/i,/^(a|c)/i]},Le={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qe={any:[/1/i,/2/i,/3/i,/4/i]},Qe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Re={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Je={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ge={ordinalNumber:z({matchPattern:Ve,parsePattern:Xe,valueCallback:e=>parseInt(e,10)}),era:b({matchPatterns:ze,defaultMatchWidth:"wide",parsePatterns:Oe,defaultParseWidth:"any"}),quarter:b({matchPatterns:Le,defaultMatchWidth:"wide",parsePatterns:qe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:b({matchPatterns:Qe,defaultMatchWidth:"wide",parsePatterns:Ye,defaultParseWidth:"any"}),day:b({matchPatterns:Ee,defaultMatchWidth:"wide",parsePatterns:Re,defaultParseWidth:"any"}),dayPeriod:b({matchPatterns:Je,defaultMatchWidth:"any",parsePatterns:Ue,defaultParseWidth:"any"})},Ke={code:"en-US",formatDistance:Me,formatLong:Te,formatRelative:De,localize:Be,match:Ge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ze(e,a,t){const r=ue(),s=t?.locale??r.locale??Ke,d=2520,o=P(e,a);if(isNaN(o))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:o}),[f,l]=$(t?.in,...o>0?[a,e]:[e,a]),g=ve(l,f),N=(X(l)-X(f))/1e3,m=Math.round((g-N)/60);let y;if(m<2)return t?.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,i):g<10?s.formatDistance("lessThanXSeconds",10,i):g<20?s.formatDistance("lessThanXSeconds",20,i):g<40?s.formatDistance("halfAMinute",0,i):g<60?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",1,i):m===0?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",m,i);if(m<45)return s.formatDistance("xMinutes",m,i);if(m<90)return s.formatDistance("aboutXHours",1,i);if(m<H){const p=Math.round(m/60);return s.formatDistance("aboutXHours",p,i)}else{if(m<d)return s.formatDistance("xDays",1,i);if(m<T){const p=Math.round(m/H);return s.formatDistance("xDays",p,i)}else if(m<T*2)return y=Math.round(m/T),s.formatDistance("aboutXMonths",y,i)}if(y=ye(l,f),y<12){const p=Math.round(m/T);return s.formatDistance("xMonths",p,i)}else{const p=y%12,v=Math.trunc(y/12);return p<3?s.formatDistance("aboutXYears",v,i):p<9?s.formatDistance("overXYears",v,i):s.formatDistance("almostXYears",v+1,i)}}function et(e,a){return Ze(e,le(e),a)}const tt={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},nt=(e,a,t)=>{let r;const s=tt[e];return typeof s=="string"?r=s:a===1?r=s.one:r=s.other.replace("{{count}}",String(a)),t?.addSuffix?t.comparison&&t.comparison>0?r+" nữa":r+" trước":r},at={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},rt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},st={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},it={date:j({formats:at,defaultWidth:"full"}),time:j({formats:rt,defaultWidth:"full"}),dateTime:j({formats:st,defaultWidth:"full"})},ot={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},dt=(e,a,t,r)=>ot[e],ct={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},mt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},ut={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},lt={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},ht={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},ft={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},gt={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},pt={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},xt=(e,a)=>{const t=Number(e),r=a?.unit;if(r==="quarter")switch(t){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(r==="day")switch(t){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(r==="week")return t===1?"thứ nhất":"thứ "+t;if(r==="dayOfYear")return t===1?"đầu tiên":"thứ "+t}return String(t)},bt={ordinalNumber:xt,era:x({values:ct,defaultWidth:"wide"}),quarter:x({values:mt,defaultWidth:"wide",formattingValues:ut,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:x({values:lt,defaultWidth:"wide",formattingValues:ht,defaultFormattingWidth:"wide"}),day:x({values:ft,defaultWidth:"wide"}),dayPeriod:x({values:gt,defaultWidth:"wide",formattingValues:pt,defaultFormattingWidth:"wide"})},yt=/^(\d+)/i,vt=/\d+/i,wt={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},Mt={any:[/^t/i,/^s/i]},Nt={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},jt={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},kt={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},Tt={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},Pt={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},Dt={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},Ct={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},Wt={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},St={ordinalNumber:z({matchPattern:yt,parsePattern:vt,valueCallback:e=>parseInt(e,10)}),era:b({matchPatterns:wt,defaultMatchWidth:"wide",parsePatterns:Mt,defaultParseWidth:"any"}),quarter:b({matchPatterns:Nt,defaultMatchWidth:"wide",parsePatterns:jt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:b({matchPatterns:kt,defaultMatchWidth:"wide",parsePatterns:Tt,defaultParseWidth:"wide"}),day:b({matchPatterns:Pt,defaultMatchWidth:"wide",parsePatterns:Dt,defaultParseWidth:"wide"}),dayPeriod:b({matchPatterns:Ct,defaultMatchWidth:"wide",parsePatterns:Wt,defaultParseWidth:"any"})},$t={code:"vi",formatDistance:nt,formatLong:it,formatRelative:dt,localize:bt,match:St,options:{weekStartsOn:1,firstWeekContainsDate:1}};function qt(){const{id:e}=q(),{goBack:a}=E(),t=e??"",[r,s]=A.useState("desc"),{data:d,isLoading:o,error:i}=Q(t),{data:f,isLoading:l}=Y(t),{data:g}=R(t),{mutate:N,isPending:m}=J(),{mutate:y,isPending:p}=U(),v=g?.data?.bookmarked??!1,_=m||p,w=f?.data??[],O=A.useMemo(()=>w?r==="desc"?w:[...w].reverse():[],[w,r]),L=()=>{if(_)return;(v?y:N)(t)};if(o)return n.jsx(_t,{});if(i||!d?.data)return n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] space-y-4",children:[n.jsx("p",{className:"text-destructive font-medium",children:c.manga.cannotLoad}),n.jsx(k,{to:"/",className:"text-primary hover:underline",children:c.manga.backToHome})]});const h=d.data,F=w[w.length-1];return n.jsxs(n.Fragment,{children:[h.title&&n.jsx("title",{children:c.titles.manga(h.title)}),n.jsx("button",{type:"button",onClick:()=>a("/"),className:"md:hidden fixed top-4 left-4 z-40 size-10 flex items-center justify-center rounded-full bg-background/80 backdrop-blur-sm shadow-md",style:{marginTop:"env(safe-area-inset-top, 0px)"},"aria-label":c.common.back,children:n.jsx(K,{className:"w-5 h-5"})}),n.jsxs("div",{className:"pt-14 md:pt-0 pb-6 space-y-6 md:space-y-8",children:[n.jsx(k,{to:"/",className:"hidden md:inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:n.jsxs("span",{className:"text-sm",children:["← ",c.common.back]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8",children:[n.jsx("div",{className:"shrink-0 mx-auto md:mx-0",children:n.jsx("div",{className:"w-48 md:w-56 aspect-[3/4] rounded-xl overflow-hidden shadow-lg",children:n.jsx("img",{src:h.image??"/placeholder.svg",alt:h.title,className:"w-full h-full object-cover",onError:u=>{const C=u.target;C.src="/placeholder.svg"}})})}),n.jsxs("div",{className:"flex-1 space-y-4 text-center md:text-left",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight",children:h.title}),h.alternative&&n.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:h.alternative})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[n.jsx(ce,{status:h.status}),h.genres?.map(u=>n.jsx(G,{name:u.name},u.id))]}),n.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ie,{className:"w-4 h-4"}),n.jsxs("span",{children:[new Intl.NumberFormat("vi-VN",{notation:"compact"}).format(h.views??0)," ",c.common.views]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(B,{className:"w-4 h-4"}),n.jsxs("span",{children:[new Intl.NumberFormat("vi-VN",{notation:"compact"}).format(h.bookmarkCount??0)," ",c.common.followers]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(de,{className:"w-4 h-4"}),n.jsxs("span",{children:[h.chapterCount??0," ",c.common.chapters]})]})]}),n.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground/90 max-w-2xl",children:h.description||c.manga.noDescription}),n.jsxs("div",{className:"flex gap-3 justify-center md:justify-start pt-2",children:[F?n.jsxs(k,{to:`/chapter/${F.id}`,prefetch:"intent",className:"inline-flex items-center gap-2 h-11 px-6 bg-primary text-primary-foreground rounded-xl font-medium hover:opacity-90 active:scale-[0.98] transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[n.jsx(re,{className:"w-4 h-4"}),c.manga.readNow]}):n.jsx("button",{type:"button",disabled:!0,className:"inline-flex items-center gap-2 h-11 px-6 bg-muted text-muted-foreground rounded-xl font-medium cursor-not-allowed",children:c.manga.noChapters}),n.jsxs("button",{type:"button",onClick:L,disabled:_,className:W("inline-flex items-center gap-2 h-11 px-6 rounded-xl font-medium transition-all active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",v?"bg-muted text-foreground":"bg-muted text-muted-foreground hover:text-foreground"),children:[n.jsx(B,{className:W("w-4 h-4",v&&"fill-current")}),v?c.manga.following:c.manga.follow]})]})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-semibold tracking-tight",children:c.manga.chapterList}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>s(u=>u==="desc"?"asc":"desc"),className:"text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1 rounded focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[r==="desc"?c.manga.sortNewest:c.manga.sortOldest,n.jsx(ne,{className:"w-4 h-4"})]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.length," ",c.common.chapters]})]})]}),l?n.jsx("div",{className:"space-y-0",children:[1,2,3,4,5].map(u=>n.jsx("div",{className:"h-16 border-b border-border animate-pulse bg-muted/30"},u))}):w.length>0?n.jsx("div",{children:O.map(u=>{const C=typeof u.createdAt=="string"||typeof u.createdAt=="number"?new Date(u.createdAt):new Date;return n.jsxs(k,{to:`/chapter/${u.id}`,prefetch:"intent",className:"group flex items-center justify-between py-4 border-b border-border last:border-0 transition-colors",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"font-medium group-hover:text-primary transition-colors",children:u.title}),n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Z,{className:"w-3 h-3"}),et(C,{addSuffix:!0,locale:$t})]})]}),n.jsx(ee,{className:"w-4 h-4 text-muted-foreground group-hover:text-foreground transition-colors"})]},u.id)})}):n.jsx("div",{className:"text-center py-10 text-muted-foreground bg-muted/30 rounded-xl border border-dashed",children:c.manga.noChapters})]})]})]})}function _t(){return n.jsxs("div",{className:"space-y-5 sm:space-y-6 md:space-y-8 lg:space-y-10 pb-10",children:[n.jsx("div",{className:"h-4 w-20 bg-muted rounded animate-pulse"}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8",children:[n.jsx("div",{className:"shrink-0 mx-auto md:mx-0",children:n.jsx("div",{className:"w-48 md:w-56 aspect-[3/4] rounded-xl bg-muted animate-pulse"})}),n.jsxs("div",{className:"flex-1 space-y-4 text-center md:text-left",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-8 w-3/4 bg-muted rounded animate-pulse mx-auto md:mx-0"}),n.jsx("div",{className:"h-4 w-1/2 bg-muted rounded animate-pulse mx-auto md:mx-0"})]}),n.jsxs("div",{className:"flex gap-2 justify-center md:justify-start",children:[n.jsx("div",{className:"h-6 w-16 bg-muted rounded-full animate-pulse"}),n.jsx("div",{className:"h-6 w-20 bg-muted rounded-full animate-pulse"})]}),n.jsxs("div",{className:"flex gap-4 justify-center md:justify-start",children:[n.jsx("div",{className:"h-4 w-24 bg-muted rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-24 bg-muted rounded animate-pulse"})]}),n.jsxs("div",{className:"space-y-2 max-w-2xl mx-auto md:mx-0",children:[n.jsx("div",{className:"h-4 w-full bg-muted rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-muted rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-2/3 bg-muted rounded animate-pulse"})]}),n.jsxs("div",{className:"flex gap-3 justify-center md:justify-start pt-2",children:[n.jsx("div",{className:"h-11 w-32 bg-muted rounded-xl animate-pulse"}),n.jsx("div",{className:"h-11 w-36 bg-muted rounded-xl animate-pulse"})]})]})]}),n.jsxs("section",{className:"space-y-4",children:[n.jsx("div",{className:"h-6 w-40 bg-muted rounded animate-pulse"}),n.jsx("div",{children:[1,2,3,4,5,6,7,8,9,10].map(e=>n.jsx("div",{className:"h-16 border-b border-border animate-pulse bg-muted/30"},e))})]})]})}export{qt as default};
