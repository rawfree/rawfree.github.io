import{c as M,$ as w,i as K,r as d,k as U,j as e,L as T,l as A,X as O,m as v}from"./index-CKYMUaQW.js";import{u as B}from"./use-browse-B_-10Gwg.js";import{M as z,a as F,b as $}from"./MangaGrid-njmF1wgV.js";import{H as I}from"./HorizontalScroll-CyFzq9em.js";import{c as b}from"./utils-BDo7o5Y5.js";import{T as V}from"./trending-up-ErCEaXOo.js";import{C as W}from"./clock-DIK97DkU.js";import{C as X}from"./chevron-right-DEL8-u9D.js";import{u as Y}from"./use-reading-progress-DdmkojgF.js";import{u as J}from"./use-bookmarks-B_jxeXes.js";const Z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ee=M("circle-check-big",Z);const te=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],se=M("flame",te);const re=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ne=M("shuffle",re);const ae=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ie=M("sparkles",ae);const ce=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],oe=M("trophy",ce);function le(){return w.useQuery("get","/api/v1/home/trending")}function de(t=1,s=24){return w.useQuery("get","/api/v1/home/updated",{params:{query:{page:String(t),limit:String(s)}}})}function ue(t="day"){return w.useQuery("get","/api/v1/home/top",{params:{query:{period:t}}})}function me(){return w.useQuery("get","/api/v1/home/random")}function he(t=1,s=12){return w.useQuery("get","/api/v1/home/new",{params:{query:{page:t,limit:s}}})}function pe(t,s=12){return w.useQuery("get","/api/v1/home/genre/{genreId}",{params:{path:{genreId:String(t)},query:{limit:String(s)}}})}function fe(){const t=K(),s=U(),r=d.useCallback(c=>{const o={params:{query:{period:c}}},l=["get","/api/v1/home/top",o];t.getQueryData(l)||t.prefetchQuery({queryKey:l,queryFn:()=>s.GET("/api/v1/home/top",o).then(u=>u.data),staleTime:1e3*60*5})},[t,s]),a=d.useCallback(()=>{const c={params:{query:{page:1,limit:12}}},o=["get","/api/v1/home/completed",c];t.getQueryData(o)||t.prefetchQuery({queryKey:o,queryFn:()=>s.GET("/api/v1/home/completed",c).then(l=>l.data),staleTime:1e3*60*5})},[t,s]),n=d.useCallback(()=>{const c=["get","/api/v1/home/random"];t.getQueryData(c)||t.prefetchQuery({queryKey:c,queryFn:()=>s.GET("/api/v1/home/random").then(o=>o.data),staleTime:1e3*60*5})},[t,s]),i=d.useCallback((c=1,o=24)=>{const l={params:{query:{page:String(c),limit:String(o)}}},u=["get","/api/v1/home/updated",l];t.getQueryData(u)||t.prefetchQuery({queryKey:u,queryFn:()=>s.GET("/api/v1/home/updated",l).then(f=>f.data),staleTime:1e3*60*5})},[t,s]),p=d.useCallback((c=1,o=12)=>{const l={params:{query:{page:c,limit:o}}},u=["get","/api/v1/home/new",l];t.getQueryData(u)||t.prefetchQuery({queryKey:u,queryFn:()=>s.GET("/api/v1/home/new",l).then(f=>f.data),staleTime:1e3*60*5})},[t,s]),m=d.useCallback((c="popular")=>{const o={params:{query:{sort:c}}},l=["get","/api/v1/genres/",o];t.getQueryData(l)||t.prefetchQuery({queryKey:l,queryFn:()=>s.GET("/api/v1/genres/",o).then(u=>u.data),staleTime:1e3*60*5})},[t,s]),h=d.useCallback(c=>{const l=["get","/api/v1/home/top",{params:{query:{period:c}}}];return!!t.getQueryData(l)},[t]),k=d.useCallback(()=>{const o=["get","/api/v1/home/completed",{params:{query:{page:1,limit:12}}}];return!!t.getQueryData(o)},[t]),x=d.useCallback(()=>{const c=["get","/api/v1/home/random"];return!!t.getQueryData(c)},[t]),P=d.useCallback((c=1,o=24)=>{const u=["get","/api/v1/home/updated",{params:{query:{page:String(c),limit:String(o)}}}];return!!t.getQueryData(u)},[t]),C=d.useCallback((c=1,o=12)=>{const u=["get","/api/v1/home/new",{params:{query:{page:c,limit:o}}}];return!!t.getQueryData(u)},[t]),G=d.useCallback((c="popular")=>{const l=["get","/api/v1/genres/",{params:{query:{sort:c}}}];return!!t.getQueryData(l)},[t]);return{prefetchTop:r,prefetchCompleted:a,prefetchRandom:n,prefetchUpdated:i,prefetchNew:p,prefetchGenres:m,isTopCached:h,isCompletedCached:k,isRandomCached:x,isUpdatedCached:P,isNewCached:C,isGenresCached:G}}const xe={1:"from-yellow-400 to-amber-500 ring-yellow-300/50",2:"from-slate-300 to-slate-400 ring-slate-200/50",3:"from-amber-600 to-amber-700 ring-amber-500/50"};function ge({rank:t,className:s}){const r=xe[t];return r?e.jsx("div",{className:b("flex h-7 w-7 items-center justify-center","rounded-lg bg-gradient-to-br shadow-lg","ring-2 ring-inset","text-sm font-bold text-white","backdrop-blur-sm","[text-shadow:_0_1px_2px_rgb(0_0_0_/_40%)]",r,s),children:t}):null}const Q="w-[30%] sm:w-[23%] md:w-[18%] lg:w-[15%] xl:w-[13%]";function R({items:t,showRank:s=!1}){return e.jsx(I,{children:t.map((r,a)=>e.jsxs(T,{to:`/manga/${r.id}`,prefetch:"intent",className:b("group snap-start flex-shrink-0 rounded-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",Q),children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden rounded-lg bg-muted",children:[e.jsx("img",{src:r.image||"/placeholder.svg",alt:r.title,loading:a<4?"eager":"lazy",className:"absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:n=>{const i=n.target;i.src="/placeholder.svg"}}),s&&a<3&&e.jsx("div",{className:"absolute top-1.5 left-1.5",children:e.jsx(ge,{rank:a+1})})]}),e.jsxs("div",{className:"mt-1.5 md:mt-2",children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:r.title}),r.latestChapter&&e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate mt-0.5",children:r.latestChapter.title})]})]},r.id))})}function y({count:t=6}){return e.jsx(I,{snap:!1,children:[1,2,3,4,5,6,7,8].slice(0,t).map(s=>e.jsxs("div",{className:b("flex-shrink-0",Q),children:[e.jsx("div",{className:"aspect-[3/4] bg-muted rounded-lg animate-pulse"}),e.jsxs("div",{className:"mt-1.5 md:mt-2",children:[e.jsx("div",{className:"h-[30px] md:h-[35px] bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-2.5 md:h-3 w-2/3 bg-muted rounded animate-pulse mt-0.5"})]})]},`skel-${s}`))})}const ye={1:"text-yellow-500",2:"text-slate-400",3:"text-amber-600"};function je({items:t,className:s}){return e.jsx("div",{className:b("space-y-2",s),children:t.map((r,a)=>e.jsxs(T,{to:`/manga/${r.id}`,prefetch:"intent",className:"group flex items-center gap-3 p-2 -mx-2 sm:mx-0 sm:px-3 rounded-lg hover:bg-muted/50 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[e.jsx("span",{className:b("w-6 text-center font-bold text-lg tabular-nums",ye[a+1]||"text-muted-foreground"),children:a+1}),e.jsx("div",{className:"w-10 h-14 flex-shrink-0 overflow-hidden rounded bg-muted",children:e.jsx("img",{src:r.image||"/placeholder.svg",alt:r.title,loading:"lazy",className:"h-full w-full object-cover",onError:n=>{const i=n.target;i.src="/placeholder.svg"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium leading-tight line-clamp-1 group-hover:text-primary transition-colors",children:r.title}),r.latestChapter&&e.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:r.latestChapter.title})]})]},r.id))})}function H({count:t=5}){return e.jsx("div",{className:"space-y-2",children:Array.from({length:t},(s,r)=>`ranked-skel-${r}`).map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2",children:[e.jsx("div",{className:"w-6 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-10 h-14 bg-muted rounded animate-pulse"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-3 w-2/3 bg-muted rounded animate-pulse mt-0.5"})]})]},s))})}const ve={trophy:oe,clock:W,flame:se,trending:V,sparkles:ie,"check-circle":ee,shuffle:ne};function j({title:t,icon:s,href:r}){const a=s?ve[s]:null;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsx(a,{className:"w-4 h-4 md:w-5 md:h-5 text-muted-foreground"}),e.jsx("h2",{className:"text-base md:text-lg font-semibold tracking-tight",children:t})]}),r&&e.jsxs(T,{to:r,className:"text-xs md:text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-0.5 rounded focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:["Tất cả",e.jsx(X,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})]})]})}function D({period:t,title:s,icon:r,href:a}){const{data:n,isLoading:i,error:p}=ue(t),m=n?.data,h=Array.isArray(m)?m:[];return p?e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsx(j,{title:s,icon:r,href:a}),e.jsx("div",{className:"rounded-lg bg-muted/50 p-4 text-muted-foreground text-sm text-center",children:"Không thể tải dữ liệu"})]}):!i&&h.length===0?null:e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsx(j,{title:s,icon:r,href:a}),i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx(H,{count:5})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(y,{count:8})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx(je,{items:h.slice(0,5)})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(R,{items:h.slice(0,12),showRank:!0})})]})]})}function L(){return e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-5 md:h-6 w-20 bg-muted rounded animate-pulse"})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(H,{count:5})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(y,{count:8})})]})}function be(){const{recentlyRead:t,isLoaded:s}=Y(5),r=A(n=>n.removeProgress);if(!s||t.length===0)return null;const a=(n,i)=>i===0?"0%":`${Math.round(n/i*100)}%`;return e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsx(j,{title:"Đọc tiếp"}),e.jsx(I,{children:t.map(n=>e.jsxs("div",{className:b("group relative snap-start flex-shrink-0",Q),children:[e.jsxs(T,{to:`/chapter/${n.chapterId}`,prefetch:"intent",className:"block rounded-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:[e.jsxs("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden bg-muted",children:[n.mangaCover&&e.jsx("img",{src:n.mangaCover,alt:n.mangaTitle,className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/30",children:e.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.min(100,n.currentPage/Math.max(1,n.totalPages)*100)}%`}})}),e.jsx("div",{className:"absolute top-1.5 right-1.5",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-black/60 text-white text-[10px] md:text-xs font-medium rounded",children:a(n.currentPage,n.totalPages)})})]}),e.jsxs("div",{className:"mt-1.5 md:mt-2",children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:n.mangaTitle}),e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate mt-0.5",children:n.chapterTitle})]})]}),e.jsx("button",{type:"button",onClick:i=>{i.preventDefault(),i.stopPropagation(),r(n.mangaId)},className:"absolute top-1.5 left-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-opacity focus-visible:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Xóa khỏi lịch sử",children:e.jsx(O,{className:"w-3 h-3"})})]},n.mangaId))})]})}function ke(){const{data:t,isLoading:s,error:r}=J(1);if(s||r)return null;const a=t?.data||[];if(a.length===0)return null;const n=a.filter(i=>i.latestChapter).slice(0,12);return n.length===0?null:e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsx(j,{title:"Bookmark Cập Nhật",icon:"clock",href:"/bookmarks"}),e.jsx(I,{children:n.map((i,p)=>e.jsxs(T,{to:`/manga/${i.id}`,prefetch:"intent",className:b("group snap-start flex-shrink-0 rounded-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",Q),children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden rounded-lg bg-muted",children:[e.jsx("img",{src:i.image||"/placeholder.svg",alt:i.title,loading:p<4?"eager":"lazy",className:"absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:m=>{const h=m.target;h.src="/placeholder.svg"}}),e.jsx("div",{className:"absolute top-1.5 right-1.5",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-primary text-primary-foreground text-[10px] md:text-xs font-medium rounded",children:"MỚI"})})]}),e.jsxs("div",{className:"mt-1.5 md:mt-2",children:[e.jsx("h3",{className:"text-xs md:text-sm font-medium leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:i.title}),i.latestChapter&&e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground truncate mt-0.5",children:i.latestChapter.title})]})]},i.id))})]})}function Ne({genreId:t,genreName:s,limit:r=6,layout:a="grid"}){const{data:n,isLoading:i,error:p}=pe(t,r);if(p)return null;const m=n?.data||[];return!i&&m.length===0?null:e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsx(j,{title:s,href:`/browse?genres=${t}`}),i?a==="horizontal"?e.jsx(y,{count:8}):e.jsx(z,{count:r}):a==="horizontal"?e.jsx(R,{items:m}):e.jsx(F,{children:m.map(h=>e.jsx($,{id:String(h.id),title:h.title,coverUrl:h.image||"/placeholder.svg",latestChapter:h.latestChapter?.title},h.id))})]})}function N({count:t=6,layout:s="grid"}){return e.jsxs("section",{className:"space-y-2 sm:space-y-3 lg:space-y-4",children:[e.jsx("div",{className:"h-5 md:h-6 w-24 bg-muted rounded animate-pulse"}),s==="horizontal"?e.jsx(y,{count:8}):e.jsx(z,{count:t})]})}const E={critical:"2000px",high:"800px",normal:"500px",low:"300px"};function we(t={}){const{priority:s="normal",renderMargin:r="200px",delay:a=0,onPrefetch:n,skipIfCached:i=!1,isCached:p}=t,m=d.useRef(i&&p?.()),[h,k]=d.useState(m.current??!1),[x,P]=d.useState(m.current??!1),[C,G]=d.useState(m.current??!1),c=d.useRef(null),o=d.useRef(void 0),l=d.useRef(void 0),u=d.useCallback(()=>{x||(P(!0),n?.())},[x,n]);return d.useEffect(()=>{if(s!=="low"||x)return;const f=c.current;if(!f)return;const g=new IntersectionObserver(([S])=>{S.isIntersecting&&(g.disconnect(),"requestIdleCallback"in window?l.current=requestIdleCallback(()=>u(),{timeout:2e3}):o.current=setTimeout(u,100))},{rootMargin:E.low});return g.observe(f),()=>{g.disconnect(),l.current&&cancelIdleCallback(l.current),o.current&&clearTimeout(o.current)}},[s,x,u]),d.useEffect(()=>{if(s==="low"||x)return;if(s==="critical"){u();return}const f=c.current;if(!f)return;const g=new IntersectionObserver(([S])=>{S.isIntersecting&&(g.disconnect(),u())},{rootMargin:E[s]});return g.observe(f),()=>g.disconnect()},[s,x,u]),d.useEffect(()=>{if(C)return;const f=c.current;if(!f)return;const g=new IntersectionObserver(([S])=>{S.isIntersecting&&(G(!0),g.disconnect(),a>0?setTimeout(()=>k(!0),a):k(!0))},{rootMargin:r});return g.observe(f),()=>g.disconnect()},[r,a,C]),{ref:c,shouldRender:h,hasPrefetched:x,isInViewport:C}}function q({children:t,fallback:s,priority:r="normal",renderMargin:a="200px",onPrefetch:n,skipIfCached:i=!1,isCached:p,delay:m=0,className:h}){const{ref:k,shouldRender:x}=we({priority:r,renderMargin:a,delay:m,onPrefetch:n,skipIfCached:i,isCached:p});return e.jsx("div",{ref:k,className:h,children:x?t:s})}function Ce(){const{data:t,isLoading:s,error:r}=de(1,12);if(r)return e.jsx(_,{});const a=t?.data||[];return!s&&a.length===0?null:e.jsxs("section",{className:"space-y-3",children:[e.jsx(j,{title:v.home.latestUpdates,icon:"clock",href:"/browse?sort=latest"}),s?e.jsx(z,{count:12}):e.jsx(F,{children:a.slice(0,12).map(n=>e.jsx($,{id:String(n.id),title:n.title,coverUrl:n.image||"/placeholder.svg",latestChapter:n.latestChapter?.title},n.id))})]})}function Se(){const{data:t,isLoading:s,error:r}=le();if(r)return e.jsx(_,{});const a=t?.data||[];return!s&&a.length===0?null:e.jsxs("section",{className:"space-y-3",children:[e.jsx(j,{title:v.home.trending,icon:"flame",href:"/browse?sort=trending"}),s?e.jsx(y,{count:8}):e.jsx(R,{items:a.slice(0,12),showRank:!0})]})}function qe(){const{data:t,isLoading:s,error:r}=he();if(r)return e.jsx(_,{});const a=t?.data||[];return!s&&a.length===0?null:e.jsxs("section",{className:"space-y-3",children:[e.jsx(j,{title:v.home.newManga,icon:"sparkles",href:"/browse?sort=latest"}),s?e.jsx(y,{count:8}):e.jsx(R,{items:a.slice(0,12)})]})}function Me(){const{data:t,isLoading:s,error:r}=me();if(r)return e.jsx(_,{});const a=t?.data||[];return!s&&a.length===0?null:e.jsxs("section",{className:"space-y-3",children:[e.jsx(j,{title:v.home.youMayLike,icon:"shuffle"}),s?e.jsx(y,{count:8}):e.jsx(R,{items:a.slice(0,12)})]})}function Te(){const{data:t,isLoading:s,error:r}=B("popular");if(r)return null;const a=(t?.data||[]).slice(0,3);return s?e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(N,{layout:"horizontal"}),e.jsx(N,{})]}):a.length===0?null:e.jsx(e.Fragment,{children:a.map((n,i)=>e.jsx(Ne,{genreId:n.id,genreName:n.name,limit:i===1?12:6,layout:i===1?"horizontal":"grid"},n.id))})}function Fe(){const{prefetchTop:t,prefetchRandom:s,prefetchNew:r,prefetchGenres:a,isTopCached:n,isRandomCached:i,isNewCached:p,isGenresCached:m}=fe();return e.jsxs(e.Fragment,{children:[e.jsx("title",{children:v.titles.home}),e.jsxs("div",{className:"py-4 md:py-6 space-y-6 md:space-y-8",children:[e.jsx(be,{}),e.jsx(ke,{}),e.jsx(Ce,{}),e.jsx(Se,{}),e.jsx(q,{fallback:e.jsx(L,{}),priority:"high",onPrefetch:()=>t("day"),skipIfCached:!0,isCached:()=>n("day"),children:e.jsx(D,{period:"day",title:v.home.topDay,icon:"trophy",href:"/browse?sort=views_day"})}),e.jsx(q,{fallback:e.jsx(y,{count:8}),priority:"normal",onPrefetch:()=>r(),skipIfCached:!0,isCached:()=>p(),children:e.jsx(qe,{})}),e.jsx(q,{fallback:e.jsx(y,{count:8}),priority:"low",onPrefetch:s,skipIfCached:!0,isCached:i,children:e.jsx(Me,{})}),e.jsx(q,{fallback:e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(N,{layout:"horizontal"}),e.jsx(N,{})]}),priority:"low",onPrefetch:()=>a("popular"),skipIfCached:!0,isCached:()=>m("popular"),className:"space-y-6 md:space-y-8",children:e.jsx(Te,{})}),e.jsx(q,{fallback:e.jsx(L,{}),priority:"low",onPrefetch:()=>t("week"),skipIfCached:!0,isCached:()=>n("week"),children:e.jsx(D,{period:"week",title:v.home.topWeek,icon:"trending",href:"/browse?sort=views_week"})})]})]})}function _(){return e.jsx("div",{className:"rounded-lg bg-muted/50 p-4 text-muted-foreground text-sm text-center",children:v.errors.loadFailed})}export{Fe as default};
